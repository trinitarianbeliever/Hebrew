<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hebrew Language</title>
    <style>
        /* General body and theme styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #191919;
            color: #e0e0e0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header and navigation styling */
        .header {
            background-color: #2c2c2c;
            padding: 1px 5px 1px 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
        }

        .header-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #fff;
        }

        .nav-link-container {
            display: flex;
            gap: 20px;
        }

        .nav-link {
            text-decoration: none;
            color: #b0b0b0;
            font-size: 1rem;
            padding: 8px 15px;
            border-radius: 5px;
            transition: background-color 0.3s, color 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            background-color: #444;
            color: #fff;
        }

        /* Container for the content box and navigation arrows */
        .content-container {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            margin: 20px auto;
        }

        /* New content box styling */
        .content-box {
            max-width: 1000px;
            width: 90%;
            background-color: #191919;
            padding: 20px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            outline: 2px solid rgba(255, 255, 255, 0.5);
            height: auto;
        }
        
        /* New styling for columns */
        .hebrew-column {
            flex: 0 0 100px; /* Fixed width of 100px */
            display: flex;
            flex-direction: column;
            padding: 0 20px;
            border-right: 2px solid rgba(255, 255, 255, 0.2);
            text-align: left;
        }
        
        .english-column {
            flex: 1; /* Takes up the remaining space */
            display: flex;
            flex-direction: column;
            padding: 0 20px;
            text-align: left;
        }

        /* Styling for each word within the columns */
        .word-item {
            padding: 15px 0;
            border-bottom: 2px solid rgba(255, 255, 255, 0.2);
            font-size: 1.2rem;
            direction: rtl; /* Right-to-left for Hebrew */
        }
        .english-column .word-item {
            direction: ltr; /* Left-to-right for English */
        }

        .word-item:last-child {
            border-bottom: none; /* No line after the last word pair */
        }

        /* New styles for navigation arrows and page numbers */
        .nav-arrow {
            font-size: 2rem;
            color: #fff;
            background-color: #2c2c2c;
            padding: 10px;
            cursor: pointer;
            user-select: none;
            z-index: 10;
            margin: 0 10px;
            border-radius: 10px;
            line-height: 1;
        }
        .nav-arrow:hover {
            background-color: rgba(0, 0, 0, 0.8);
        }
        .page-number-text {
            font-size: 1rem;
            color: #b0b0b0;
            font-weight: normal;
        }
        
        /* Footer styling */
        .footer {
            background-color: #191919;
            min-height: 50px; /* Set a minimum height for the footer */
            display: flex;
            justify-content: center;
            align-items: center; /* This centers content vertically */
            margin-top: auto;
        }

        .hidden {
            display: none !important;
        }
        
        #home-page {
            display: flex;
        }
        #practice-page {
            display: block;
            display: flex; /* Make practice page a flex container */
            flex-direction: column;
            align-items: center; /* Center items horizontally */
        }

        /* Flashcard specific styling */
        .flashcard-container {
            width: 100%;
            max-width: 600px;
            height: 200px;
            perspective: 1000px;
            margin: 0 auto;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .flashcard-side {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 10px;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            box-sizing: border-box;
            font-size: 1.5rem;
            text-align: center;
        }

        .flashcard-front {
            background-color: #333;
            direction: rtl;
            font-size: 60px; /* Specific font size for the Hebrew side */
        }

        .flashcard-back {
            background-color: #333;
            transform: rotateY(180deg);
            direction: ltr;
        }

        .flashcard-counter {
            font-size: 1rem;
            margin-bottom: 20px;
        }
        
        .random-btn {
            background-color: #444;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s;
        }

        .random-btn:hover {
            background-color: #555;
        }
    </style>
</head>
<body>

    <!-- Header and Navigation -->
    <header class="header">
        <h1 class="header-title">Hebrew</h1>
        <nav class="nav-link-container">
            <a href="#" class="nav-link active" data-page="home">Home</a>
            <a href="#" class="nav-link" data-page="practice">Practice</a>
        </nav>
    </header>
    
    <!-- Main content container -->
    <main class="main-container">
        <div class="content-container">
            <div class="nav-arrow left-arrow">&lt;</div>
        
            <!-- Home Page -->
            <div class="content-box" id="home-page">
                <!-- Content will be dynamically generated here -->
            </div>
    
            <!-- Practice Page -->
            <div class="content-box hidden" id="practice-page">
                <div id="flashcard-counter" class="flashcard-counter"></div>
                <div class="flashcard-container">
                    <div class="flashcard" id="flashcard">
                        <div class="flashcard-side flashcard-front" id="flashcard-front"></div>
                        <div class="flashcard-side flashcard-back" id="flashcard-back"></div>
                    </div>
                </div>
                <button id="random-btn" class="random-btn">Random</button>
            </div>
    
            <div class="nav-arrow right-arrow">&gt;</div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p class="page-number-text" id="footer-page-counter"></p>
    </footer>

    <!-- JavaScript for Page Navigation -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const navLinks = document.querySelectorAll('.nav-link');
            const homePage = document.getElementById('home-page');
            const practicePage = document.getElementById('practice-page');
            const leftArrow = document.querySelector('.left-arrow');
            const rightArrow = document.querySelector('.right-arrow');
            const footerPageCounter = document.getElementById('footer-page-counter');
            const wordsPerPage = 12;

            // Define the words and their meanings as an array of objects
            let words = [];
            const flashcard = document.getElementById('flashcard');
            const flashcardFront = document.getElementById('flashcard-front');
            const flashcardBack = document.getElementById('flashcard-back');
            const randomBtn = document.getElementById('random-btn');
            const flashcardCounter = document.getElementById('flashcard-counter');

            // Fetches the word data from the JSON file
            async function loadWords() {
                try {
                    const response = await fetch('./words.json');
                    words = await response.json();
                    
                    // Call initial render functions after words are loaded
                    if (!practicePage.classList.contains('hidden')) {
                        renderFlashcard();
                        flashcardCounter.textContent = `Total Words: ${words.length}`;
                    } else {
                        renderHomePage(currentPageIndex);
                    }
                    updateUI();
                } catch (error) {
                    console.error('Failed to load words:', error);
                    // Display an error message to the user
                    homePage.innerHTML = '<p>Error loading words. Please try again later.</p>';
                    practicePage.innerHTML = '<p>Error loading words. Please try again later.</p>';
                }
            }

            // Renders the content for a given page index
            function renderHomePage(pageIndex) {
                const numPages = Math.ceil(words.length / wordsPerPage);
                const startIndex = pageIndex * wordsPerPage;
                const endIndex = startIndex + wordsPerPage;
                const pageWords = words.slice(startIndex, endIndex);

                let hebrewHtml = '';
                let englishHtml = '';
                
                pageWords.forEach((wordPair) => {
                    hebrewHtml += `<div class="word-item">${wordPair.hebrew}</div>`;
                    englishHtml += `<div class="word-item">${wordPair.english}</div>`;
                });

                homePage.innerHTML = `
                    <div class="hebrew-column">${hebrewHtml}</div>
                    <div class="english-column">${englishHtml}</div>
                `;
            }

            // Flashcard variables and functions
            function renderFlashcard() {
                if (words.length === 0) return;
                const randomIndex = Math.floor(Math.random() * words.length);
                const randomWord = words[randomIndex];
                
                // Set text for both sides
                flashcardFront.textContent = randomWord.hebrew;
                flashcardBack.textContent = randomWord.english;

                // Randomly show front or back first
                if (Math.random() > 0.5) {
                    flashcard.classList.add('flipped');
                } else {
                    flashcard.classList.remove('flipped');
                }
            }

            function updateUI() {
                const numPages = Math.ceil(words.length / wordsPerPage);
                if (!homePage.classList.contains('hidden')) {
                    leftArrow.style.visibility = currentPageIndex === 0 ? 'hidden' : 'visible';
                    rightArrow.style.visibility = currentPageIndex === numPages - 1 ? 'hidden' : 'visible';
                    footerPageCounter.textContent = `Page ${currentPageIndex + 1} of ${numPages}`;
                } else {
                    leftArrow.style.visibility = 'hidden';
                    rightArrow.style.visibility = 'hidden';
                    footerPageCounter.textContent = '';
                }
            }
            
            let currentPageIndex = 0;

            function nextPage() {
                const numPages = Math.ceil(words.length / wordsPerPage);
                if (currentPageIndex < numPages - 1) {
                    currentPageIndex++;
                    renderHomePage(currentPageIndex);
                    updateUI();
                }
            }

            function previousPage() {
                if (currentPageIndex > 0) {
                    currentPageIndex--;
                    renderHomePage(currentPageIndex);
                    updateUI();
                }
            }

            // Initial state
            loadWords();

            // Add click event listeners for arrows
            rightArrow.addEventListener('click', nextPage);
            leftArrow.addEventListener('click', previousPage);

            // Add a click event listener to each navigation link
            navLinks.forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault();
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    event.target.classList.add('active');

                    const page = event.target.dataset.page;
                    if (page === 'home') {
                        homePage.classList.remove('hidden');
                        practicePage.classList.add('hidden');
                        currentPageIndex = 0;
                        renderHomePage(currentPageIndex);
                    } else if (page === 'practice') {
                        homePage.classList.add('hidden');
                        practicePage.classList.remove('hidden');
                        renderFlashcard();
                        flashcardCounter.textContent = `Total Words: ${words.length}`;
                    }
                    updateUI();
                });
            });

            // Add keyboard event listener for arrow keys
            document.addEventListener('keydown', (event) => {
                if (!homePage.classList.contains('hidden')) {
                    if (event.key === 'ArrowRight') {
                        nextPage();
                    } else if (event.key === 'ArrowLeft') {
                        previousPage();
                    }
                } else if (!practicePage.classList.contains('hidden')) {
                    if (event.key === 'Enter') {
                        renderFlashcard();
                    } else if (event.key === ' ') { // Spacebar key
                        flashcard.classList.toggle('flipped');
                    }
                }
            });

            // Flashcard functionality
            flashcard.addEventListener('click', () => {
                flashcard.classList.toggle('flipped');
            });

            randomBtn.addEventListener('click', () => {
                renderFlashcard();
            });
        });
    </script>
</body>
</html>

